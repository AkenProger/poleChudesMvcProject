<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UserPage</title>
    <link href="../static/css/main.css" th:href="@{/css/main.css}" rel="stylesheet" />



</head>

<body>
    <div class="userBar">
        <div class="userName">
            <p class="pName">
                <a href="/index">Выйти</a>
            </p>
        </div>
        <div class="userName">
            <p th:text="${userName.getName()}" class="pName" onclick="showUser()"></p>
        </div>

        <div class="showUser" id="showUser">
            <p class="close" id="closeUser" onclick="closeUser()">X</p>
            <h3 class="itemUser">
                Код игрока:
                <p th:text="${userName.getId()}"></p>
            </h3>

            <h3 class="itemUser">
                Логин:
                <p th:text="${userName.getLogin()}"></p>
            </h3>

            <h3 class="itemUser">
                Статус:
                <p th:text="${userName.isActive()}"></p>
            </h3>
        </div>

        <div class="userLogo">
            <h2>Gamer page</h2>
        </div>
    </div>

    <div class="boxGame">
        <h3 class="boxGameTitle">POLECHUDES</h3>
        <hr>
        <div class="secretSymbols" id="secrets"></div>
        <h2 th:text="${randomQuestion.getQuestion()}" class="question"></h2>
        <div id="ch"></div>
        <script th:inline="javascript">
            var answers = /*[[${randomQuestion.getAnswer()}]]*/;
            var secredString = "";
            var blockNowString = "";
            window.addEventListener("load", function () {
                blockNowString = document.getElementById("secrets");
                for (var i = 0; i < answers.length; i++)
                    secredString += "*";
                blockNowString.innerHTML = secredString;
            });

            function answerFinder() {
                var userAnswer = document.getElementById("userAnswer").value;
                document.getElementById("userAnswer").value = "";
                if (userAnswer.length > 1 || userAnswer == "" || userAnswer == " ")
                    return alert("Вы должны ввести 1 символ!");
                    secredString = secredString.split("");
                    ch++;
                    for (var i = 0; i < answers.length; i++)
                        if (answers[i] == userAnswer) secredString[i] = userAnswer;
                    secredString = secredString.join("");
                    blockNowString.innerHTML = secredString;
                    if (secredString == answers)
                        document.getElementById("ch").innerHTML = "колличество попыток = " + ch;




            }



        </script>

        <input type="text" placeholder="Enter answer or symbol" class="inp" id="userAnswer">
        <input type="button" value="Enter" class="btn" onclick="answerFinder()">

    </div>

    <script type="text/javascript" th:src="@{/js/app.js}"></script>

</body>

</html>